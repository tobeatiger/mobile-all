define(["text!templates/login-tpl.html"],function(i){var n=function(n){this.initialize=function(){this.$el=$("<div/>");this.$el.html($wwCompile(i)(getScope()))};this.render=function(){return this};this.bindEvents=function(){var i=this.$el;i.find("#btn-login").off("click").click(function(){window.loginService.login(i.find('input[name="user"]').val(),i.find('input[name="password"]').val()).done(function(i){window.user=i;n.switchView("main")}).fail(function(n){i.find("#login-message").text(n.responseText).show()})});i.find("#link-reset-password").click(function(){alert("TODO")});i.find("#btn-sign-up").click(function(){alert("TODO")});i.find("#link-browse").click(function(){n.switchView("main")});return this};this.initialize()};return n});